<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API RUNNER ‚Äì LOVE QUEST</title>

<style>
/* ===========================
        ESTILOS GENERALES
   =========================== */
body {
    margin: 0;
    background: #000;
    overflow: hidden;
    font-family: 'Arial', sans-serif;
}

/* ===========================
        PANTALLA DE INICIO
   =========================== */
#menu {
    width: 100vw;
    height: 100vh;
    background: linear-gradient(135deg,#ff0077,#5700ff);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    color:white;
    text-align:center;
}

#menu h1 {
    font-size:60px;
    animation:pulse 2.5s infinite;
}

@keyframes pulse {
    0% {transform:scale(1);}
    50% {transform:scale(1.1);}
    100% {transform:scale(1);}
}

.menu-button {
    background:white;
    border:none;
    padding:20px 35px;
    margin:15px;
    border-radius:20px;
    font-size:26px;
    color:#ff0077;
    font-weight:bold;
    cursor:pointer;
    transition:0.2s;
}

.menu-button:hover {
    transform:scale(1.08);
    background:#ffe6f3;
}

/* ===========================
           HISTORIA
   =========================== */
#story, #instructions, #credits {
    position:absolute;
    top:0; left:0;
    width:100vw; height:100vh;
    background:rgba(0,0,0,0.85);
    color:white;
    padding:40px;
    box-sizing:border-box;
    display:none;
    overflow-y:auto;
}

.story-text {
    font-size:24px;
    line-height:1.6;
    white-space:pre-line;
}

.close-btn {
    margin-top:25px;
    padding:15px 25px;
    background:#ff57a1;
    border:none;
    color:white;
    font-size:22px;
    border-radius:15px;
    cursor:pointer;
}

.close-btn:hover {
    background:#ff2d8c;
}

/* ===========================
       √ÅREA DEL JUEGO
   =========================== */
#gameArea {
    position:relative;
    width:100vw;
    height:100vh;
    background:#111;
    display:none;
    overflow:hidden;
}

#player {
    position:absolute;
    bottom:40px;
    left:50%;
    transform:translateX(-50%);
    width:70px;
    height:auto;
}

/* Objetos que caen */
.obj {
    position:absolute;
    font-size:40px;
    animation: fall linear forwards;
}

@keyframes fall {
    from { top:-50px; }
    to { top:110vh; }
}

/* HUD */
#score, #lives, #level {
    position:absolute;
    top:15px;
    color:white;
    font-size:26px;
}

#score { left:20px; }
#lives { right:20px; }
#level { left:50%; transform:translateX(-50%);}
#dialog {
    position:absolute;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    color:white;
    font-size:28px;
    animation:fadein 1s;
}

@keyframes fadein { from{opacity:0;} to{opacity:1;} }

/* ===========================
        PANTALLA FINAL
   =========================== */
#finalScreen {
    display:none;
    position:absolute;
    top:0; left:0;
    width:100vw; height:100vh;
    background:rgba(255,0,120,0.6);
    backdrop-filter:blur(5px);
    color:white;
    text-align:center;
    padding-top:40vh;
    font-size:34px;
}

.final-btn {
    margin-top:25px;
    padding:18px 30px;
    background:white;
    color:#ff057d;
    border:none;
    font-size:26px;
    border-radius:18px;
    cursor:pointer;
    font-weight:bold;
}

.final-btn:hover {
    transform:scale(1.05);
}

/* ===========================
        PART√çCULAS
   =========================== */
.particle {
    position:absolute;
    width:8px;
    height:8px;
    background:pink;
    border-radius:50%;
    opacity:0.8;
    animation: explode 0.7s forwards;
}

@keyframes explode {
    from { transform:scale(1); opacity:1;}
    to   { transform:scale(3); opacity:0;}
}
</style>
</head>

<body>

<!-- ===========================
          MEN√ö
=========================== -->
<div id="menu">
    <h1>API RUNNER<br>LOVE QUEST</h1>
    <button class="menu-button" onclick="showStory()">Historia</button>
    <button class="menu-button" onclick="showInstructions()">Instrucciones</button>
    <button class="menu-button" onclick="startGame()">Jugar</button>
    <button class="menu-button" onclick="showCredits()">Cr√©ditos</button>
</div>

<!-- ==============================
            HISTORIA
=============================== -->
<div id="story">
    <div class="story-text" id="storyText">
    </div>
    <button class="close-btn" onclick="closeStory()">Volver</button>
</div>

<!-- ==============================
          INSTRUCCIONES
=============================== -->
<div id="instructions">
    <h2>üìå Instrucciones</h2>
    <p>
    ‚≠ê Objetivo: Juntar 10 estrellas rosas para completar el ‚ÄúCoraz√≥n de Amor‚Äù.  
    ‚ö° Evitar estrellas amarillas (te sacan vidas).  
    ü©∑ Vidas: 3  
    üéÆ Movimiento: Dedo o mouse moviendo a Api de lado a lado.  
    </p>
    <button class="close-btn" onclick="closeInstructions()">Volver</button>
</div>

<!-- ==============================
            CR√âDITOS
=============================== -->
<div id="credits">
    <h2>üíó Cr√©ditos</h2>
    <p>
    Juego creado completamente por Manu  
    Para Api‚Ä¶ Mo‚Ä¶ Gordita‚Ä¶ Amor  
    Porque se merece todo.  
    </p>
    <button class="close-btn" onclick="closeCredits()">Volver</button>
</div>

<!-- ==============================
          √ÅREA DEL JUEGO
=============================== -->
<div id="gameArea">
    <img id="player" src="URL_DE_TU_SPRITE.png">
    <div id="score">Puntos: 0</div>
    <div id="lives">Vidas: 3</div>
    <div id="level">Nivel 1</div>
    <div id="dialog"></div>
    <div id="finalScreen"></div>
</div>

<script>
/* ===========================
    VARIABLES DEL JUEGO
=========================== */
let score = 0, lives = 3, level = 1, speed = 2500;
let gameRunning = false;
let dialogTimer;

/* ===========================
     HISTORIA COMPLETA
=========================== */
const storyText = `
Hola Api‚Ä¶ o Mo‚Ä¶ o mi Gordita hermosa‚Ä¶  
Manu te necesita en una misi√≥n especial.

Cuando √©l pens√≥ en vos,  
las Estrellas de Nuestro Amor se escaparon al cielo‚Ä¶

Cada estrella rosa ‚≠ê representa un recuerdo lindo nuestro.  
Cada estrella amarilla ‚ö° te distrae del camino.

Amor‚Ä¶ ¬ølo ayud√°s a recuperar lo que siente por vos?  
`;

/* ===========================
        FUNCIONES MEN√ö
=========================== */
function showStory(){
    document.getElementById("storyText").innerText = storyText;
    document.getElementById("story").style.display = "block";
}
function closeStory(){ document.getElementById("story").style.display = "none"; }

function showInstructions(){
    document.getElementById("instructions").style.display = "block";
}
function closeInstructions(){ document.getElementById("instructions").style.display = "none"; }

function showCredits(){
    document.getElementById("credits").style.display = "block";
}
function closeCredits(){ document.getElementById("credits").style.display = "none"; }

/* ===========================
       INICIO DEL JUEGO
=========================== */
function startGame(){
    document.getElementById("menu").style.display = "none";
    document.getElementById("gameArea").style.display = "block";
    gameRunning = true;
    spawnLoop();
    randomDialog("Vamos Amor üíó");
}

/* ===========================
       MOVIMIENTO DEL PLAYER
=========================== */
document.addEventListener("mousemove", e => movePlayer(e.clientX));
document.addEventListener("touchmove", e => movePlayer(e.touches[0].clientX));

function movePlayer(x){
    if(!gameRunning) return;
    const p = document.getElementById("player");
    p.style.left = (x - p.clientWidth/2) + "px";
}

/* ===========================
         OBJETOS
=========================== */
function spawnLoop() {
    setInterval(()=>{
        if(gameRunning) spawnObject();
    }, speed);
}

function spawnObject() {
    const obj = document.createElement("div");
    obj.classList.add("obj");

    const isHeart = Math.random() < 0.65;
    obj.innerHTML = isHeart ? "‚ù§Ô∏è" : "‚ö°";
    obj.style.left = Math.random()*(window.innerWidth-40)+"px";
    obj.style.animationDuration = speed/1000+"s";

    gameArea.appendChild(obj);

    let interval = setInterval(()=>{
        const rect = obj.getBoundingClientRect();
        const p = document.getElementById("player").getBoundingClientRect();

        if(rect.bottom >= p.top && rect.left <= p.right && rect.right >= p.left){
            if(isHeart){
                score++;
                particleBurst(p.left+p.width/2, p.top);
                randomDialog(getRandomLoveMessage());
            } else {
                lives--;
                randomDialog("Cuidado Gordita üò≠");
            }
            updateUI();
            obj.remove();
            clearInterval(interval);
        }

        if(rect.top > window.innerHeight){
            obj.remove();
            clearInterval(interval);
        }

        if(score >= 10){
            winGame();
        }
        if(lives <= 0){
            loseGame();
        }
    },40);
}

/* ===========================
       PARTICULAS
=========================== */
function particleBurst(x,y){
    for(let i=0; i<12; i++){
        const p = document.createElement("div");
        p.classList.add("particle");
        p.style.left = x+"px";
        p.style.top = y+"px";
        p.style.transform = `translate(${(Math.random()*100)-50}px, ${(Math.random()*100)-50}px)`;
        gameArea.appendChild(p);
        setTimeout(()=>p.remove(),700);
    }
}

/* ===========================
      DI√ÅLOGOS DIN√ÅMICOS
=========================== */
function randomDialog(text){
    const d = document.getElementById("dialog");
    d.innerText = text;
    clearTimeout(dialogTimer);
    dialogTimer = setTimeout(()=>{ d.innerText=""; },2000);
}

function getRandomLoveMessage(){
    const msgs = [
        "Vamos Amor üíó",
        "Mo, sos incre√≠ble ‚ú®",
        "Gordita hermosa üíï",
        "Apiii, te amo mucho ‚ù§Ô∏è",
        "Lo est√°s rompiendo Amorcito üåü",
        "Mo, segu√≠ as√≠ üòç",
    ];
    return msgs[Math.floor(Math.random()*msgs.length)];
}

/* ===========================
        HUD
=========================== */
function updateUI(){
    document.getElementById("score").innerText = "Puntos: "+score;
    document.getElementById("lives").innerText = "Vidas: "+lives;
    document.getElementById("level").innerText = "Nivel "+level;
}

/* ===========================
        FINAL DEL JUEGO
=========================== */
function winGame(){
    gameRunning = false;
    const fs = document.getElementById("finalScreen");
    fs.style.display = "block";
    fs.innerHTML = `
    üíñ Api, recuperaste todas las Estrellas de Nuestro Amor  
    Manu te ama con todo su coraz√≥n ‚ù§Ô∏è  
    <br><br>
    <button class="final-btn" onclick="restart()">Reintentar</button>
    <button class="final-btn" onclick="location.reload()">Men√∫</button>
    `;
}

function loseGame(){
    gameRunning = false;
    const fs = document.getElementById("finalScreen");
    fs.style.display = "block";
    fs.innerHTML = `
    üíî No pasa nada Gordita‚Ä¶  
    Manu igual te ama m√°s que ayer üíó  
    <br><br>
    <button class="final-btn" onclick="restart()">Reintentar</button>
    <button class="final-btn" onclick="location.reload()">Men√∫</button>
    `;
}

/* ===========================
        REINICIAR
=========================== */
function restart(){
    score = 0; lives = 3; level = 1;
    document.getElementById("finalScreen").style.display = "none";
    document.getElementById("gameArea").innerHTML = `
        <img id="player" src="URL_DE_TU_SPRITE.png">
        <div id="score">Puntos: 0</div>
        <div id="lives">Vidas: 3</div>
        <div id="level">Nivel 1</div>
        <div id="dialog"></div>
        <div id="finalScreen"></div>`;
    gameRunning = true;
    spawnLoop();
}
</script>

</body>
</html>
